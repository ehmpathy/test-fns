# execution: isolated temp dir

progress tracker for roadmap phases.

---

## phase 1: infra foundation

### 1.1 computeIsolatedTempBasePath

- [x] create `src/infra/isomorph.fs/computeIsolatedTempBasePath.ts`
- [x] create `src/infra/isomorph.fs/computeIsolatedTempBasePath.jest.test.ts`
- [x] unit tests pass

### 1.2 genIsolatedTempInfra

- [x] create `src/infra/isomorph.fs/genIsolatedTempInfra.ts`
- [x] create `src/infra/isomorph.fs/genIsolatedTempInfra.integration.jest.test.ts`
- [x] integration tests pass

---

## phase 2: ephemeral dir extraction

### 2.1 genEphemeralTempDir

- [x] create `src/domain.operations/genTempDir/genEphemeralTempDir.ts`
- [x] create `src/domain.operations/genTempDir/genEphemeralTempDir.integration.jest.test.ts`
- [x] integration tests pass

---

## phase 3: genTempDir integration

### 3.1 update genTempDir

- [x] update `src/domain.operations/genTempDir/genTempDir.ts`
- [x] tests pass (no test changes needed - symlink resolves transparently)
- [x] integration tests pass

### 3.2 update pruneStale

- [x] no changes needed to `pruneStale.ts` (already parameterized by tmpDir)
- [x] genTempDir now passes physical path to pruneStaleOnce
- [x] integration tests pass

---

## phase 4: acceptance verification

### 4.1 acceptance tests

- [x] update `src/domain.operations/genTempDir/genTempDir.acceptance.jest.test.ts`
- [x] acceptance tests pass (21 tests)

---

## phase 5: cleanup

### 5.1 remove ensureTempDir

- [x] remove `src/infra/isomorph.fs/ensureTempDir.ts`
- [x] no references remain
- [x] all tests pass

---

## final verification

- [x] `npm run test:types`
- [x] `npm run test:lint`
- [x] `npm run test:unit` (115 tests)
- [x] `npm run test:integration` (43 tests)
- [x] `npm run test:acceptance` (21 tests)
